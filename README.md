# Experiments 1 and 2
Task code, full dataset, and analyses for reward revaluation task with and without active rest manipulation.

## Task
Task code was written using jsPsych and React and hosted on pavlovia.org servers. Folders `/task/packaged/experiment1_rest` and `/task/packaged/experiment2_norest` correspond to code for Experiments 1 and 2 respectively. 

To run experiment code locally, run the following command in the corresponding experiment folder:
```
python3 -m http.server 
```

Source code in `/task/src/` is for Experiment 1. To recompile code to `/task/packaged/` after any edits, run the following commands in the `/task/` directory:
```
npm install
npm run build
```

## Dataset
Raw data is in the form of csv's with one file per task session. Preprocessed files for downstream analyses are generated by python code in `analysis/preprocess.ipynb`.

## Analysis
Raw data is preprocessed in python with code in `analysis/preprocess.ipynb` to filter excluded participants and reformat data. Figures and modeling are done in R Markdown files. Data for the demographics analysis in `analysis/demographics.Rmd` is not included in this repository for participant privacy reasons.

# Experiment 3
Task code, full dataset, and analyses for Sailing task 

## Tasks
Task code was written using jsPsych and hosted on pavlovia.org servers. 

To run experiment code locally, run the following command in the `experiment3/task/` folder:
```
python3 -m http.server 
```

## Dataset
Raw data is in the form of csv's with one file per task session. Preprocessed files for downstream analyses are generated by python code in `analysis/preprocess.ipynb`.

## Analysis
Raw data is preprocessed in python with code in `analysis/sailing_preprocess.ipynb` to filter excluded participants and reformat data. Figures and modeling are done in R Markdown files. Data for the demographics analysis in `analysis/sailing_demographics.Rmd` is not included in this repository for participant privacy reasons.

### Modeling
The mixture-of-agents reinforcement learning model [(Kahn & Daw, 2024)](https://www.biorxiv.org/content/10.1101/2023.11.28.569070v3) was coded in Julia (1.10) and fit using [EM](https://github.com/ndawlab/em). The specific version of EM (em-ak-em) used with these modeling scripts can be found in `analysis/modeling`.  

## License
MIT Â© Alice Zhang